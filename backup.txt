<!-- index.html -->
<!DOCTYPE html>
<html>
<head>
    <title>Input Form</title>
</head>
<body>
    <form action="/lyrics" method="post">
        <label for="artistName">Enter Artist Name:</label>
        <input type="text" id="artistName" name="artistName">
        <label for="songName">Enter Song Name:</label>
        <input type="text" id="songName" name="songName">
        <input type="submit" value="Submit">
    </form>
</body>
</html>




# raw code
import lyricsgenius as lg

genius = lg.Genius("rqfKquUR2OzxHVTSi9sv6k9EBJsIhXnUB8WlInEzODSB0eMBSlXujVbnyFX-gsHX")
artist = genius.search_artist("Israel Houghton", max_songs=1, sort="title")
song = artist.song("You are Good")



print(song.lyrics)


#with open ('lyrics.txt', "w") as f:
    #f.write(song.lyrics)
    
    
# Backup

from flask import Flask, render_template, request
import lyricsgenius as lg

app = Flask(__name__, template_folder='templates')

@app.route("/")
def index():
    return render_template("index.html")

@app.route("/process_form", methods=["POST"])
def process_form():
    songName = request.form.get("songName")
    genius = lg.Genius("rqfKquUR2OzxHVTSi9sv6k9EBJsIhXnUB8WlInEzODSB0eMBSlXujVbnyFX-gsHX")
    artist = genius.search_artist(songName, max_songs=1, sort="title")
    song = artist.song("You are Good")
    return render_template("lyrics.html", content=str(song.lyrics))

if __name__ == "__main__":
    app.run()
    
    
"""<!-- lyrics.html -->
<!DOCTYPE html>
<html>
<head>
    <title>Hi</title>
</head>
<body>
    <h1>Hi</h1>
    <p>{{content}}</p>
</body>
</html>"""


function openLyricsSite(title, artist) {
    // Remove special characters from song title and artist
    const cleanTitle = title.replace(/[\(\)&!.-/รก']/g, '').trim();
    const cleanArtist = artist.replace(/[\(\)&!.-/รก']/g, '').trim();

    const artistAndSong = `${cleanArtist.toLowerCase().replace(/\s/g, '')}/${cleanTitle.toLowerCase().replace(/\s/g, '')}`;
    const lyricsSiteUrl = `https://www.azlyrics.com/lyrics/${artistAndSong}.html`;
    window.open(lyricsSiteUrl);
}




# Working Flask code (Important)

from flask import Flask, render_template, request
import lyricsgenius as lg

app = Flask(__name__, template_folder='templates')

@app.route("/")
def index():
    return render_template("index.html")

@app.route("/lyrics", methods=["POST"])
def process_form():
    artistName = request.form.get("artistName")
    songName = request.form.get("songName")
    
    genius = lg.Genius("rqfKquUR2OzxHVTSi9sv6k9EBJsIhXnUB8WlInEzODSB0eMBSlXujVbnyFX-gsHX")
    artist = genius.search_artist(artistName, max_songs=1, sort="title")
    song = artist.song(songName)
    
    return render_template("lyrics.html", content=str(song.lyrics))

if __name__ == "__main__":
    app.run()



 <form action="/lyrics" method="post">
        <label for="artistName">Enter Artist Name:</label>
        <input type="text" id="artistName" name="artistName">
        <label for="songName">Enter Song Name:</label>
        <input type="text" id="songName" name="songName">
        <input type="submit" value="Submit">
    </form>


    #index = secularArtistNames.index(artist)
        #secularArtistsIndexes.append(index)
                
        #print("Secular: " + str(secularArtistNames))
        #print("Christian" + str(christianArtistNames))
                
                #print(artistName)
                #index = artistNames.index(artist)
                #indexes.append(index)
                #print(indexes)
                
                #print(artistNames)
                #thislist.pop(1)  VERY USEFUL
                # index = animals.index('dog') VERY USEFUL


flattenedArtistsDatabase = []

for sublist in artistsDatabase:
    for artist in sublist:
       flattenedArtistsDatabase.append(artist)


import lyricsgenius as lg

songName = input("Song Name: ")
   
genius = lg.Genius("LC2defTjjGgEM09GFXIhStvjR9d_YnZ3WArkc_yoW3aA1ewUgCbJGVk8k2BYuveo")

song = genius.search_song(songName)
songDict = genius.search_songs(songName)
songResults = songDict["hits"]

data = []
for hit in songResults:
    song_info = hit["result"]
    name = song_info.get("primary_artist").get("name")
    title = song_info.get("title")
    data.append({'name': name, 'title': title})

print (data)



from flask import Flask, render_template, request, jsonify
import lyricsgenius as lg
import csv
import base64

access_token = "LC2defTjjGgEM09GFXIhStvjR9d_YnZ3WArkc_yoW3aA1ewUgCbJGVk8k2BYuveo"
app = Flask(__name__, template_folder='templates')

# Define routes
@app.route("/")
def index():
    return render_template("index.html")

@app.route("/lyrics", methods=["POST"])
def process_form():
    songInput = request.form.get("searchInput")
    
    if "-" in songInput:
        songartistSeparated = songInput.split(" - ")
        songName = songartistSeparated[0].title()
        artistName = songartistSeparated[1].title()

    else:
        songName = songInput
    
    with open('Artists.csv') as csvfile:
        genius = lg.Genius(access_token)
        
        # Artist Database
        artistsCSV = csv.reader(csvfile, delimiter='\n')
        artistsDatabase = []
        
        for row in artistsCSV:
            artistsDatabase.append(row)
        
        flattenedArtistsDatabase = []

        for sublist in artistsDatabase:
            for artist in sublist:
                flattenedArtistsDatabase.append(artist)
        
        # Initializing song name and artist as key value pairs
        data = []
        artistNames = []
        songTitles = []
        
        song = genius.search_song(songInput)
        songDict = genius.search_songs(songName)
        songResults = songDict["hits"]
        
        for hit in songResults:
            song_info = hit["result"]
            artistName = song_info.get("primary_artist").get("name")
            songTitle = song_info.get("title")
            data.append({artistName + " , " + songTitle})   
            artistNames.append(artistName)
            songTitles.append(songTitle)
        
        
        # New Search Method (Song Name)
        secularArtistNames = []
        christianArtistNames = []
        artistSongforHTML = []


        
        for artist in artistNames:
            if artist in flattenedArtistsDatabase:
                christianArtistNames.append(artist)
            elif artist not in flattenedArtistsDatabase:
                secularArtistNames.append(artist)
                #return render_template("404.html")
       
                
        for name in christianArtistNames:
            artistSongforHTML.append(songInput + " - " + name)
            print(songInput + " - " + name)


        # Output Test Code
        print("Secular: " + str(secularArtistNames))
        print("Christian: " + str(christianArtistNames))

        # Initial Search Method (Song - Artist Name)
        """if any(artistName in sublist for sublist in artistsDatabase):
            artist = genius.search_artist(artistName, max_songs=1, sort="title")
            song = artist.song(songName)
            
        else:
            return render_template("404.html")"""
    
    encoded_lyrics = base64.b64encode(song.lyrics.encode()).decode()
    return render_template("lyrics.html", content=encoded_lyrics, song=songName+ " - " + artistName)











# Search Function using Artist and Song Name
@app.route("/lyrics", methods=["POST"])
def process_form():
    songInput = request.form.get("searchInput")
    
    if "-" in songInput:
        songartistSeparated = songInput.split(" - ")
        songName = songartistSeparated[0].title()
        artistName = songartistSeparated[1].title()

    else:
        songName = songInput
    
    with open('Artists.csv') as csvfile:
        genius = lg.Genius(access_token)
        
        # Artist Database
        artistsCSV = csv.reader(csvfile, delimiter='\n')
        artistsDatabase = []
        
        for row in artistsCSV:
            artistsDatabase.append(row)
        
        flattenedArtistsDatabase = []

        for sublist in artistsDatabase:
            for artist in sublist:
                flattenedArtistsDatabase.append(artist)
        
        # Initializing song name and artist as key value pairs
        data = []
        artistNames = []
        songTitles = []
        
        
        songDict = genius.search_songs(songName)
        songResults = songDict["hits"]
        
        for hit in songResults:
            song_info = hit["result"]
            artistName = song_info.get("primary_artist").get("name")
            songTitle = song_info.get("title")
            data.append({artistName + " , " + songTitle})   
            artistNames.append(artistName)
            songTitles.append(songTitle)
        
        
        # New Search Method (Song Name)
        secularArtistNames = []
        christianArtistNames = []
        artistSongforHTML = []


        
        for artist in artistNames:
            if artist in flattenedArtistsDatabase:
                christianArtistNames.append(artist)
            elif artist not in flattenedArtistsDatabase:
                secularArtistNames.append(artist)
       
                
        for name in christianArtistNames:
            artistSongforHTML.append(songInput + " - " + name)
            print(songInput + " - " + name)


        # Output Test Code
        print("Secular: " + str(secularArtistNames))
        print("Christian: " + str(christianArtistNames))

        # Initial Search Method (Song - Artist Name)
        if any(artistName in sublist for sublist in artistsDatabase):
            song = genius.search_song(songInput)
        
        
    encoded_lyrics = base64.b64encode(song.lyrics.encode()).decode()
    return render_template("lyrics.html", content=encoded_lyrics, song=songName+ " - " + artistName)